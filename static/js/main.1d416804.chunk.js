(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(7),i=n.n(r),c=n(1),l=n(2),s=n(4),d=n(3),u=n(5),m=function(e){return o.a.createElement("div",{className:"linha-cor"},o.a.createElement("p",{className:"lname"},e.nome),o.a.createElement("div",{className:"legenda",style:{background:e.background}}),o.a.createElement("i",{id:e.nome,onClick:e.editColor,className:"fa fa-edit icon"}),o.a.createElement("i",{id:e.nome,onClick:e.deleteColor,className:"fa fa-trash icon"}))},h=function(e){var t=e.data.map(function(t,n){return o.a.createElement("div",{key:n},o.a.createElement(m,{nome:t.id,background:t.gradient,editColor:e.editColor,deleteColor:e.deleteColor}))});return o.a.createElement("div",{className:"lista-cor"},t)},f=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchData()}},{key:"render",value:function(){return o.a.createElement("div",{className:"lista container",id:this.props.render},o.a.createElement("div",{className:"titulo-cor"},o.a.createElement("h3",null,"Nome"),o.a.createElement("h3",null,"Pr\xe9-visualiza\xe7\xe3o")),o.a.createElement(h,{data:this.props.data,editColor:this.props.editColor,deleteColor:this.props.deleteColor}),o.a.createElement("div",{className:"cadastro-btn"},o.a.createElement("button",{onClick:this.props.addColor,id:"cadastro-btn"},"Cadastrar Gradiente")))}}]),t}(a.Component),p=function(e){return o.a.createElement("div",{className:"row-cor"},o.a.createElement("input",{type:"color",name:"color",id:e.id,onChange:e.setInputColor,placeholder:"Digite uma cor",onClick:e.cleanInput,value:e.background,style:{background:e.background}}),o.a.createElement("span",null,o.a.createElement("i",{className:"fa fa-trash icon",onClick:e.deleteRow,id:e.id})))},g=function(e){return o.a.createElement("div",{className:"visual"},o.a.createElement("span",{id:"gradient",style:{background:e.background}}))},v=function(e){return o.a.createElement("div",{className:"save"},o.a.createElement("button",{onClick:e.onSubmit,id:"btn-submit"},"Salvar"),o.a.createElement("button",{onClick:e.handleContainer},"Cancelar"))},C=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).addRow=function(){var e=n.props.colorList,t=e.slice(-1)[0].id.slice(-1),a=document.querySelector("#btn-add"),o="color".concat(Number(t)+1);if("color10"===o)return a.disabled=!0,void n.props.handleMessage("Limite de cores excedido");e.push({cor:"#fff",id:o}),n.props.handleColorList(e)},n.deleteRow=function(e){var t=e.target.id,a=n.props.colorList,o=a.findIndex(function(e){return e.id===t});a.splice(o,1),n.props.handleColorList(a),n.setGradient()},n.setGradient=function(){var e=n.props.colorList.map(function(e){return e.cor}),t="\n\t\t\tlinear-gradient(to right,\n\t\t\t".concat(e.toString(),"\n\t\t\t)\n\t\t");n.props.handleGradient(t)},n.setInputColor=function(e){var t=e.target,a=e.target.value,o=n.props.colorList,r=o.findIndex(function(e){return e.id===t.id});o[r]={cor:a,id:t.id},n.props.handleColorList(o),n.setGradient()},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setGradient()}},{key:"render",value:function(){var e=this,t=this.props,n=t.colorList,a=t.name,r=t.gradient,i=t.handleName,c=n.map(function(t,a){return o.a.createElement("div",{key:"color".concat(a),id:"divcolor".concat(a)},o.a.createElement(p,{background:n[a].cor,id:n[a].id,setInputColor:e.setInputColor,deleteRow:e.deleteRow}))});return o.a.createElement("main",{className:"container cadastro"},o.a.createElement("div",{className:"nome"},o.a.createElement("input",{type:"text",placeholder:"Nome *",id:"nome-cor",value:a,onChange:i})),o.a.createElement(g,{background:r}),o.a.createElement("div",{className:"cores"},c,o.a.createElement("div",{className:"add"},o.a.createElement("button",{onClick:this.addRow,id:"btn-add"},o.a.createElement("i",{className:"fa fa-plus"},"\xa0\xa0Cor")))),o.a.createElement(v,{onSubmit:this.props.onSubmit,handleContainer:this.props.handleContainer}),o.a.createElement("p",{className:"message"},this.props.message))}}]),t}(a.Component),b=(n(14),{data:[],color:"",colorList:[{cor:"#fff",id:"color0"},{cor:"#fff",id:"color1"}],name:"",gradient:"",message:"",container:!0,mode:"post",url:"https://lbjsondb.herokuapp.com/cores"}),E=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(d.a)(t).call(this))).fetchData=function(){var t=e.state.url;fetch(t).then(function(e){return e.json()}).then(function(t){e.setState({data:t})})},e.onSubmit=function(){var t=e.state,n=t.colorList,a=t.name,o=t.gradient,r=t.mode,i=t.url;0===a.length?e.setState({message:"Campo(s) vazio!"}):(fetch(i,{method:r,headers:{"Content-Type":"application/json"},body:JSON.stringify({colorList:n,gradient:o,id:a})}).catch(function(t){e.setState({message:"ops, algo deu errado"})}).finally(function(){e.fetchData()}),e.setState({container:!0,url:b.url}))},e.deleteColor=function(t){var n=t.target.id,a=e.state.url;window.confirm("Deseja deletar a cor?")&&fetch("".concat(a,"/").concat(n),{method:"delete",headers:{"Content-Type":"application/json"}}).catch(function(e){console.log("ops, algo deu errado")}).finally(function(){e.fetchData()})},e.addColor=function(){var t=JSON.parse(JSON.stringify(b));e.setState({colorList:t.colorList,name:b.name,gradient:b.gradient,message:b.message,color:b.color,container:!1,mode:"post",url:b.url})},e.editColor=function(t){var n=t.target.id,a=e.state,o=a.data,r=a.url,i=o.findIndex(function(e){return e.id===n});e.setState({colorList:o[i].colorList,name:o[i].id,gradient:o[i].gradient,container:!1,mode:"put",url:"".concat(r,"/").concat(n)})},e.handleColorList=function(t){e.setState({colorList:t})},e.handleMessage=function(t){e.setState({message:t})},e.handleGradient=function(t){e.setState({gradient:t})},e.handleName=function(t){"put"===e.state.mode?e.setState({name:e.state.name}):e.setState({name:t.target.value})},e.handleContainer=function(t){e.setState({container:!0,url:b.url})},e.state=b,e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"wrapper"},this.state.container?o.a.createElement(f,{data:this.state.data,editColor:this.editColor,addColor:this.addColor,fetchData:this.fetchData,deleteColor:this.deleteColor}):o.a.createElement(C,{color:this.state.color,colorList:this.state.colorList,name:this.state.name,message:this.state.message,gradient:this.state.gradient,handleName:this.handleName,handleGradient:this.handleGradient,handleColorList:this.handleColorList,handleMessage:this.handleMessage,handleContainer:this.handleContainer,onSubmit:this.onSubmit}))}}]),t}(a.Component),w=(n(15),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function k(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(o.a.createElement(E,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/react-gradient",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/react-gradient","/service-worker.js");w?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):k(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):k(t,e)})}}()},8:function(e,t,n){e.exports=n(16)}},[[8,1,2]]]);
//# sourceMappingURL=main.1d416804.chunk.js.map